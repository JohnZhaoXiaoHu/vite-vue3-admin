!function(){var e=document.createElement("style");e.innerHTML=".preview-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;display:flex;background-color:#0006;user-select:none;align-items:center;justify-content:center}.preview-modal .close-icon{position:absolute;top:10px;right:10px;z-index:2000;font-size:32px;color:#fff}.preview-content{position:relative;display:flex;align-items:center;justify-content:center;box-shadow:0 0 4px #0000000d}.preview-content img,.preview-content video{max-width:100%;max-height:100%;outline:none}.preview-content .img-scale-mask{position:absolute;top:50%;left:50%;padding:8px 22px;color:#fff;text-align:center;background-color:#0009;border-radius:12px;opacity:0;transform:translate(-50%,-50%);transition:opacity .08s;user-select:none}.preview-content .img-scale-mask.active{opacity:1}.toolbar{position:absolute;bottom:10%;left:50%;display:flex;padding:4px 30px;font-size:26px;background-color:#fff;background-color:#6d6d6d99;border-radius:30px;transform:translate(-50%);box-shadow:0 1px 5px #00000014;align-items:center}.toolbar>.anticon{padding:3px 8px;color:#fff;cursor:pointer}.toolbar>.anticon:hover{transform:scale(1.06)}.image-demo[data-v-4f5cc384]{width:600px;height:400px;margin-bottom:12px}\n",document.head.appendChild(e),System.register(["./vendor-legacy.e71c8e14.js","./index-legacy.b4b7e046.js","./icon-font-legacy.02061d92.js","./index-legacy.b2e53b1b.js"],(function(e){"use strict";var t,i,o,n,l,a,r,c,s,d,m,u,g,p,f,v,h,b,y,w,x,k,S,C,I,O,U,j,z;return{setters:[function(e){t=e.d,i=e.bc,o=e.bd,n=e.be,l=e.bf,a=e.bg,r=e.bh,c=e.ag,s=e.r,d=e.s,m=e.u,u=e.q,g=e.E,p=e.e,f=e.c,v=e.i,h=e.G,b=e.j,y=e.w,w=e.n,x=e.a2,k=e.a0,S=e.t,C=e.b5,I=e.b6,O=e.p,U=e.h,j=e.b},function(){},function(e){z=e.I},function(){}],execute:function(){function L(e){const t=e.lastIndexOf("/")+1;let i=e.substring(t);return i=decodeURI(i.split("?")[0]),i}var E=t({name:"PreviewModal",components:{ZoomInOutlined:i,ZoomOutOutlined:o,RedoOutlined:n,DownloadOutlined:l,CloseCircleOutlined:a,OneToOneOutlined:r,[c.name]:c},props:{visible:{type:Boolean,default:!1},type:{type:String,default:"image"},url:{type:String,default:""}},emits:["update:visible"],setup(e,{emit:t}){const i=s();let o;const n=d({timer:null,loading:!1,rotateDeg:0,imgScale:1,scaleCV:.07,initWidth:0,initHeight:0,contentStyle:{width:"60vw",height:"60vh"},imgStyle:{width:"",height:"",transform:"rotate(0)"}}),l=m({get:()=>e.visible,set:e=>t("update:visible",e)}),a=(e="scale")=>{n.imgStyle.width=n.initWidth*n.imgScale+"px",n.imgStyle.height=n.initHeight*n.imgScale+"px","init"===e?(n.imgStyle.maxWidth="",n.imgStyle.maxHeight=""):(n.imgStyle.maxWidth="none!important",n.imgStyle.maxHeight="none!important"),clearTimeout(o),o=setTimeout((()=>i.value?.classList.remove("active")),1400),i.value?.classList.add("active"),n.contentStyle={}};return{...u(n),imgScaleMask:i,isVisible:l,rotateImg:()=>{n.rotateDeg-=90,n.imgStyle.transform=`rotate(${n.rotateDeg}deg)`},saveImg:e=>{!function({url:e,target:t="_blank",fileName:i}){const o=new URL(e).host==location.host;new Promise(((n,l)=>{if(o){const o=document.createElement("a");if(o.href=e,o.target=t,void 0!==o.download&&(o.download=i||L(e)),document.createEvent){const e=document.createEvent("MouseEvents");return e.initEvent("click",!0,!0),o.dispatchEvent(e),n(!0)}return-1===e.indexOf("?")&&(e+="?download"),window.open(e,t),n(!0)}{const t=document.createElement("canvas"),i=document.createElement("img");i.setAttribute("crossOrigin","Anonymous"),i.src=e,i.onload=o=>{t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(i,0,0,i.width,i.height),t.toBlob((t=>{const i=document.createElement("a");i.href=window.URL.createObjectURL(t),i.download=L(e),i.click(),URL.revokeObjectURL(i.href),n(!0)}),"image/jpeg")},i.onerror=e=>l(e)}}))}({url:e})},zoomInImg:()=>{n.imgScale+=n.scaleCV,a()},zoomOutImg:()=>{n.imgScale-=n.scaleCV,a()},handZoom:a,imgLoaded:e=>{if(e.currentTarget?.complete){const{width:t,height:i}=getComputedStyle(e.currentTarget);n.imgStyle.width=t,n.imgStyle.height=i,n.initWidth=parseFloat(t),n.initHeight=parseFloat(i)}},resetImg:()=>{n.imgScale=1,a()}}}});const _=["src"],M=["src"],R={key:0,class:"toolbar"};E.render=function(e,t,i,o,n,l){const a=g("close-circle-outlined"),r=g("a-spin"),c=g("zoom-in-outlined"),s=g("zoom-out-outlined"),d=g("one-to-one-outlined"),m=g("redo-outlined"),u=g("download-outlined");return p(),f(C,{to:"body"},[e.isVisible?(p(),v("div",{key:0,class:"preview-modal",onClick:t[5]||(t[5]=x((t=>e.isVisible=!1),["self"]))},[h(a,{class:"close-icon",onClick:t[0]||(t[0]=t=>e.isVisible=!1)}),b("div",{class:"preview-content",style:w(e.contentStyle)},[h(r,{spinning:e.loading},{default:y((()=>["image"===e.type?(p(),v("img",{key:0,ref:"img",style:w(e.imgStyle),src:e.url,alt:"",onLoad:t[1]||(t[1]=x(((...t)=>e.imgLoaded&&e.imgLoaded(...t)),["stop"]))},null,44,_)):k("",!0),"video"===e.type?(p(),v("video",{key:1,ref:"video",src:e.url,controls:"",autoplay:"",onCanplay:t[2]||(t[2]=t=>e.loading=!1),onLoadstart:t[3]||(t[3]=t=>e.loading=!0)},null,40,M)):k("",!0),b("div",{ref:"imgScaleMask",class:"img-scale-mask"},S(~~(100*e.imgScale)+"%"),513)])),_:1},8,["spinning"])],4),"image"===e.type?(p(),v("div",R,[h(c,{title:"放大",onClick:e.zoomInImg},null,8,["onClick"]),h(s,{title:"缩放",onClick:e.zoomOutImg},null,8,["onClick"]),h(d,{title:"原始比例",onClick:e.resetImg},null,8,["onClick"]),h(m,{title:"旋转",onClick:e.rotateImg},null,8,["onClick"]),h(u,{title:"下载",onClick:t[4]||(t[4]=t=>e.saveImg(e.url))})])):k("",!0)])):k("",!0)])};var V=e("default",t({name:"CustomModal",components:{[I.name]:I,IconFont:z,PreviewModal:E},setup(){const e=d({scriptUrl:"",iconName:"",visible:!1,imageUrl:""});return{...u(e),showPreview:t=>{e.imageUrl=t.target.currentSrc,e.visible=!0}}}}));O("data-v-4f5cc384");const H=j(" 示意图："),N=j(" (例如：//at.alicdn.com/t/font_1166867_7zdsgx6x88l.js) "),P=j(" （例如：icon-huanfu1、icon-zhutipifu、icon-xinwendongtai1） "),T={key:1};U(),V.render=function(e,t,i,o,n,l){const a=g("a-alert"),r=g("preview-modal"),c=g("a-input"),s=g("a-form-item"),d=g("icon-font"),m=g("a-form"),u=g("a-card");return p(),v("div",null,[h(a,{message:"自定义图标",description:"使用阿里图标库，可以有效减小项目的体积，支持离线本地图标和在线图标",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),h(u,null,{default:y((()=>[H,b("img",{class:"image-demo",src:"http://ww1.sinaimg.cn/large/005IOlAWgy1gl8bm4ot9dj314r0opabq.jpg",onClick:t[0]||(t[0]=(...t)=>e.showPreview&&e.showPreview(...t))}),e.visible?(p(),f(r,{key:0,visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t),type:"image",url:e.imageUrl},null,8,["visible","url"])):k("",!0),h(m,null,{default:y((()=>[h(s,{label:"阿里图标路径"},{default:y((()=>[h(c,{value:e.scriptUrl,"onUpdate:value":t[2]||(t[2]=t=>e.scriptUrl=t),style:{width:"400px"},placeholder:"请输入你的阿里巴巴矢量图标库项目图标的路径"},null,8,["value"]),N])),_:1}),h(s,{label:"图标名字"},{default:y((()=>[h(c,{value:e.iconName,"onUpdate:value":t[3]||(t[3]=t=>e.iconName=t),placeholder:"请输入图标的名字",style:{width:"200px"}},null,8,["value"]),P])),_:1}),h(s,{label:"效果"},{default:y((()=>[e.scriptUrl&&e.iconName?(p(),f(d,{key:0,"script-url":e.scriptUrl,type:e.iconName,size:"30"},null,8,["script-url","type"])):(p(),v("span",T,"可以复制示例的地址和图标查看效果"))])),_:1})])),_:1})])),_:1})])},V.__scopeId="data-v-4f5cc384"}}}))}();
