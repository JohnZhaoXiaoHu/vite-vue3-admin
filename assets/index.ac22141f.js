var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(a,o,r)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[o]=r;import{d as t,V as i,Q as d,s as u,_ as p,$ as m,q as c,A as f,p as g,h as b,E as v,e as y,i as w,G as _,w as h,j as I,b as O}from"./vendor.f13de6ab.js";import{_ as j,u as S}from"./index.fc610771.js";import{_ as x}from"./logo.d49f8590.js";var P=t({name:"Login",components:{UserOutlined:i,LockOutlined:d,SvgIcon:j},setup(){const e=u({loading:!1,formInline:{username:"",password:""}}),t=S(),i=p(),d=m();return g=((e,a)=>{for(var o in a||(a={}))n.call(a,o)&&l(e,o,a[o]);if(r)for(var o of r(a))s.call(a,o)&&l(e,o,a[o]);return e})({},c(e)),a(g,o({handleSubmit:async()=>{var a;const{username:o,password:r}=e.formInline;if(""==o.trim()||""==r.trim())return f.warning("用户名或密码不能为空！");f.loading("登录中...",0),e.loading=!0;const n={username:o,password:r},{code:s,message:l}=await t.dispatch("user/login",n).finally((()=>{e.loading=!1,f.destroy()}));if(0==s){const e=decodeURIComponent((null==(a=d.query)?void 0:a.redirect)||"/");f.success("登录成功！"),i.replace(e).then((e=>{"login"==d.name&&i.replace("/")}))}else f.info(l||"登录失败")}}));var g}});g("data-v-31e69dbc");const z={class:"login-box"},U=I("div",{class:"login-logo"},[I("img",{src:x,alt:""}),I("h1",null,"Antd Admin")],-1),k=O(" 登录 ");b(),P.render=function(e,a,o,r,n,s){const l=v("user-outlined"),t=v("a-input"),i=v("a-form-item"),d=v("lock-outlined"),u=v("a-button"),p=v("a-form");return y(),w("div",z,[U,_(p,{layout:"horizontal",model:e.formInline,onSubmit:e.handleSubmit},{default:h((()=>[_(i,null,{default:h((()=>[_(t,{value:e.formInline.username,"onUpdate:value":a[0]||(a[0]=a=>e.formInline.username=a),size:"large",placeholder:"admin"},{prefix:h((()=>[_(l,{type:"user"})])),_:1},8,["value"])])),_:1}),_(i,null,{default:h((()=>[_(t,{value:e.formInline.password,"onUpdate:value":a[1]||(a[1]=a=>e.formInline.password=a),size:"large",type:"password",placeholder:"123456",autocomplete:"new-password"},{prefix:h((()=>[_(d,{type:"user"})])),_:1},8,["value"])])),_:1}),_(i,null,{default:h((()=>[_(u,{type:"primary","html-type":"submit",size:"large",loading:e.loading,block:""},{default:h((()=>[k])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","onSubmit"])])},P.__scopeId="data-v-31e69dbc";export{P as default};
